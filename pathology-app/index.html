<!-- filepath: /pathology-app/pathology-app/index.html -->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LP Care Pathology</title>
    <link rel="stylesheet" href="styles.css">
    <script src="script.js" defer></script>
</head>
<body class="font-inter antialiased">
    <div id="app-root"></div>
    <div id="toast-container"></div>

    <script>
        // --- Global State and UI Management ---
        let currentView = 'home'; // 'home', 'auth', 'admin-dashboard', 'patient-dashboard'
        const appRoot = document.getElementById('app-root');
        const toastContainer = document.getElementById('toast-container');

        function showToast(options) {
            const { title, description, variant = 'success', duration = 3000 } = options;

            const toastDiv = document.createElement('div');
            toastDiv.classList.add('toast', variant);

            let iconSvg = '';
            if (variant === 'success') {
                iconSvg = `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon toast-icon icon-green-500">
                                <path d="M22 11.08V12a10 10 0 11-5.93-9.14"></path>
                                <polyline points="22 4 12 14.01 9 11.01"></polyline>
                            </svg>`;
            } else if (variant === 'destructive') {
                iconSvg = `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon toast-icon icon-red-500">
                                <circle cx="12" cy="12" r="10"></circle>
                                <line x1="15" y1="9" x2="9" y2="15"></line>
                                <line x1="9" y1="9" x2="15" y2="15"></line>
                            </svg>`;
            }

            toastDiv.innerHTML = `
                ${iconSvg}
                <div>
                    <div class="toast-title">${title}</div>
                    <div class="toast-description">${description}</div>
                </div>
            `;

            toastContainer.appendChild(toastDiv);

            void toastDiv.offsetWidth;
            toastDiv.classList.add('show');

            setTimeout(() => {
                toastDiv.classList.remove('show');
                toastDiv.addEventListener('transitionend', () => toastDiv.remove());
            }, duration);
        }

        function renderView() {
            appRoot.innerHTML = ''; // Clear previous content
            if (currentView === 'home') {
                appRoot.innerHTML = getHomePageHTML();
                addHomePageEventListeners();
            } else if (currentView === 'auth') {
                appRoot.innerHTML = getAuthFormHTML();
                addAuthFormEventListeners();
            }
        }

        function switchToAuth(mode) {
            currentView = 'auth';
            renderView();
        }

        function switchToHome() {
            currentView = 'home';
            renderView();
        }

        function getHomePageHTML() {
            return `
                <div class="min-h-screen bg-gradient-subtle">
                    <header class="bg-white shadow-card">
                        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                            <div class="flex justify-between items-center h-16">
                                <h1 class="text-xl font-bold text-gray-900">LP Care Pathology</h1>
                                <div class="flex items-center space-x-4">
                                    <button id="home-login-btn" class="btn-medical btn-medical-ghost">Login</button>
                                    <button id="home-register-btn" class="btn-medical btn-medical-default">Register</button>
                                </div>
                            </div>
                        </div>
                    </header>
                    <section class="py-20 text-center">
                        <h1 class="text-5xl font-bold">Professional Medical Testing Services</h1>
                        <p class="text-xl">Accurate diagnostics, fast results, and compassionate care.</p>
                        <button id="hero-book-test-btn" class="btn-medical">Book Test</button>
                        <button id="hero-view-reports-btn" class="btn-medical">View Reports</button>
                    </section>
                    <footer class="bg-gray-900 text-white py-12">
                        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                            <h4 class="text-lg font-semibold mb-4">Contact</h4>
                            <ul class="space-y-2 text-gray-400">
                                <li>üìû +91 78730 95514</li>
                                <li>lpcarepathology2023@gmail.com</li>
                                <li>üìç Kasafal, Baleswar</li>
                                <li>üïí 24/7 Emergency Service</li>
                            </ul>
                            <p>&copy; 2024 LP Care Pathology. All rights reserved.</p>
                        </div>
                    </footer>
                </div>
            `;
        }

        function addHomePageEventListeners() {
            document.getElementById('home-login-btn').addEventListener('click', () => switchToAuth('login'));
            document.getElementById('home-register-btn').addEventListener('click', () => switchToAuth('register'));
            document.getElementById('hero-book-test-btn').addEventListener('click', () => switchToAuth('register'));
            document.getElementById('hero-view-reports-btn').addEventListener('click', () => switchToAuth('login'));
        }

        function getAuthFormHTML() {
            return `
                <div class="min-h-screen flex items-center justify-center">
                    <div class="w-full max-w-md">
                        <h2 class="text-3xl font-bold">Login</h2>
                        <form id="auth-form">
                            <input type="email" id="auth-email" placeholder="Email" required />
                            <input type="password" id="auth-password" placeholder="Password" required />
                            <button type="submit" id="auth-submit-button">Login</button>
                        </form>
                        <p>Don't have an account? <button id="auth-toggle-mode-btn">Register</button></p>
                    </div>
                </div>
            `;
        }

        function addAuthFormEventListeners() {
            const authForm = document.getElementById('auth-form');
            authForm.addEventListener('submit', (e) => {
                e.preventDefault();
                // Handle authentication logic here
            });
            document.getElementById('auth-toggle-mode-btn').addEventListener('click', () => {
                // Toggle between login and register
            });
        }

        renderView();
    </script>
</body>
</html>